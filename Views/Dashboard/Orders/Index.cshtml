@model List<OnlineStoreMVC.Models.ViewModels.OrderManageViewModel>
@{
  Layout = "~/Views/Shared/_DashboardLayout.cshtml";
  ViewData["Title"] = "Qu·∫£n l√Ω ƒë∆°n h√†ng";
}

<div class="container mt-5">
  <h4 class="mb-4">üì¶ Danh s√°ch ƒë∆°n h√†ng</h4>

  @if (Model != null && Model.Any())
  {
    <table class="table table-bordered table-hover">
      <thead class="table-warning">
        <tr>
          <th>M√£ ƒë∆°n</th>
          <th>Ng∆∞·ªùi ƒë·∫∑t</th>
          <th>Ng√†y ƒë·∫∑t</th>
          <th>Tr·∫°ng th√°i</th>
          <th>T·ªïng ti·ªÅn</th>
          <th>Chi ti·∫øt</th>
        </tr>
      </thead>
      <tbody>
        @foreach (var order in Model)
        {
          <tr>
            <td>@order.OrderID</td>
            <td>@order.UserName</td>
            <td>@order.OrderDate.ToString("dd/MM/yyyy HH:mm")</td>
            <td>@order.Status</td>
            <td>@order.TotalAmount.ToString("N0") ‚Ç´</td>
            <td>
              <button class="btn btn-sm btn-outline-primary" data-bs-toggle="collapse"
                data-bs-target="#details-@order.OrderID">
                Xem
              </button>
            </td>
          </tr>
          <tr class="collapse" id="details-@order.OrderID">
            <td colspan="6">
              <table class="table table-sm table-striped">
                <thead>
                  <tr>
                    <th>S·∫£n ph·∫©m</th>
                    <th>S·ªë l∆∞·ª£ng</th>
                    <th>ƒê∆°n gi√°</th>
                    <th>Th√†nh ti·ªÅn</th>
                  </tr>
                </thead>
                <tbody>
                  @foreach (var item in order.Items)
                  {
                    <tr>
                      <td>@item.ProductName</td>
                      <td>@item.Quantity</td>
                      <td>@item.UnitPrice.ToString("N0") ‚Ç´</td>
                      <td>@(item.Quantity* item.UnitPrice).ToString("N0") ‚Ç´</td>
                    </tr>
                  }
                </tbody>
              </table>
            </td>
          </tr>
        }
      </tbody>
    </table>
  }
  else
  {
    <div class="alert alert-info">Hi·ªán ch∆∞a c√≥ ƒë∆°n h√†ng n√†o.</div>
  }
</div>