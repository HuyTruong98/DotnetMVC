@using OnlineStoreMVC.Helpers
@model List<OnlineStoreMVC.Models.Product>

@{
  ViewData["Title"] = "Home Page";
}

@{
  ViewData["Title"] = "Trang chủ - Cửa hàng thời trang";
}

<section class="hero-section">
  <div class="hero-overlay"></div>
  <div class="container">
    <div class="row align-items-center min-vh-80">
      <div class="col-lg-6">
        <div class="hero-content">
          <h1 class="hero-title">Thời Trang Hiện Đại</h1>
          <p class="hero-subtitle">
            Khám phá bộ sưu tập quần áo thời trang mới nhất với phong cách hiện đại,
            chất lượng cao và giá cả hợp lý
          </p>
          <div class="hero-buttons">
            <a href="#" class="btn btn-primary btn-lg me-3">
              <i class="fas fa-shopping-bag me-2"></i>Mua sắm ngay
            </a>
            <a href="#collections" class="btn btn-outline-light btn-lg">
              Khám phá bộ sưu tập
            </a>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="hero-image">
          <img
            src="https://www.elle.vn/wp-content/uploads/2019/09/kualua-lumpur-fashion-week-2019-5.jpgfeatures-section py-5"
            alt="Fashion Hero" class="img-fluid">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="features-section py-3">
  <div class="container">
    <div class="row g-4">
      <div class="col-lg-3 col-md-6">
        <div class="feature-item text-center">
          <div class="feature-icon">
            <img src="~/images/freeShipping.png" style="height:30px" asp-append-version="true" />
          </div>
          <h5>Miễn phí vận chuyển</h5>
          <p>đơn từ 500k</p>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="feature-item text-center">
          <div class="feature-icon">
            <img src="~/images/refresh.png" style="height:30px" asp-append-version="true" />
          </div>
          <h5>Đổi hàng tận nhà</h5>
          <p>Trong vòng 15 ngày</p>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="feature-item text-center">
          <div class="feature-icon">
            <img src="~/images/quantity.png" style="height:30px" asp-append-version="true" />
          </div>
          <h5>Chất lượng cao</h5>
          <p>Sản phẩm chính hãng</p>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="feature-item text-center">
          <div class="feature-icon">
            <img src="~/images/support.png" style="height:30px" asp-append-version="true" />
          </div>
          <h5>Hỗ trợ 24/7</h5>
          <p>Tư vấn và hỗ trợ khách hàng 24/7</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Collections Section -->
<section id="collections" class="collections-section py-3 bg-light">
  <div class="container">
    <div class="section-header text-center mb-5">
      <h2 class="section-title">Bộ sưu tập thời trang</h2>
      <p class="section-subtitle">Khám phá các danh mục sản phẩm đa dạng của chúng tôi</p>
    </div>

    <div class="row g-4">
      <div class="col-lg-4 col-md-6">
        <div class="collection-card">
          <div class="collection-image">
            <img src="https://5sfashion.vn/storage/upload/images/ckeditor/yVOv85MEGoLxrAmUTh0xdetVyzNggkm8OjZQqb0c.jpg"
              alt="Thời trang nam">
            <div class="collection-overlay">
              <div class="collection-content">
                <h4>Thời trang nam</h4>
                <p>Phong cách lịch lãm, hiện đại</p>
                <a href="#" class="btn btn-light">Xem ngay</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-4 col-md-6">
        <div class="collection-card">
          <div class="collection-image">
            <img
              src="https://lh3.googleusercontent.com/vISKpCT-ArwYbWMbSD_AOtvPnf6W00sJjNpHa60GO_Adhh4y2Ce4qYwW9dCizgM6nz6fTkpgwcV5KPfSfGAK44rf59ES4xgo8wPPMFt5i-GLxZ74AKgw2xPo0qhF_OhOE_NpL73UCEdXrByySTMv2Q"
              alt="Thời trang nữ">
            <div class="collection-overlay">
              <div class="collection-content">
                <h4>Thời trang nữ</h4>
                <p>Thanh lịch, quyến rũ</p>
                <a href="#" class="btn btn-light">Xem ngay</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-4 col-md-6">
        <div class="collection-card">
          <div class="collection-image">
            <img src="https://hmkeyewear.com/wp-content/uploads/2024/10/phu-kien-thoi-trang-8.jpg" alt="Phụ kiện">
            <div class="collection-overlay">
              <div class="collection-content">
                <h4>Phụ kiện</h4>
                <p>Hoàn thiện phong cách</p>
                <a href="#" class="btn btn-light">Xem ngay</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Products -->
<section class="featured-products py-3">
  <div class="container">
    <div class="section-header text-center mb-5">
      <h2 class="section-title">Sản phẩm nổi bật</h2>
      <p class="section-subtitle">Những sản phẩm được yêu thích nhất</p>
    </div>

    <div class="row g-4">
      @foreach (var product in Model)
      {
        var primaryImage = product.ProductImages.FirstOrDefault(img => img.IsPrimary) ??
        product.ProductImages.FirstOrDefault();

        <div class="col-lg-3 col-md-6">
          <div class="product-card">
            <div class="product-image">
              <img src="@primaryImage.ImageURL" class="img-hot" alt="@product.ProductName" />
              <div class="product-badges">
                <span class="badge bg-warning">Hot</span>
              </div>
              <div class="product-actions">
                <button class="btn btn-sm btn-outline-light" title="Yêu thích">
                  <img style="height: 20px" src="~/images/heart.png" />
                </button>
                <button class="btn btn-sm btn-outline-light" title="Xem nhanh">
                  <img style="height: 10px" src="~/images/view.png" />
                </button>
              </div>
            </div>
            <div class="product-info">
              <h6 class="product-title">@product.ProductName</h6>

              <div class="product-price">
                <span class="current-price">@FormatHelper.FormatCurrency(product.Price)</span>
                @* <span class="old-price">400.000₫</span> *@
              </div>
              <div class="mt-2">
                <button class="btn btn-sm btn-primary w-100 add-to-cart-btn" data-product-id="@product.ProductID">
                  <i class="fas fa-shopping-cart me-1"></i> Thêm vào giỏ
                </button>
              </div>
            </div>
          </div>
        </div>
      }
    </div>

    <div class="text-center mt-5">
      <a href="#" class="btn btn-primary btn-lg">
        Xem tất cả sản phẩm <i class="fas fa-arrow-right ms-2"></i>
      </a>
    </div>
  </div>
</section>
<!-- Newsletter Section -->
<section class="newsletter-section py-5 bg-dark text-white">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h3 class="mb-3">Đăng ký nhận tin tức</h3>
        <p class="mb-0">Nhận thông tin về sản phẩm mới và ưu đãi đặc biệt qua email</p>
      </div>
      <div class="col-lg-6">
        <form class="newsletter-form">
          <div class="input-group">
            <input type="email" class="form-control form-control-lg" placeholder="Nhập email của bạn...">
            <button class="btn btn-primary btn-lg" type="submit">
              <i class="fas fa-paper-plane me-2"></i>Đăng ký
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

@section Scripts {
  <script>
    $(document).on("click", ".add-to-cart-btn", function () {
      const productId = $(this).data("product-id");

      $.ajax({
        url: "/HomeCart/AddToCart",
        type: "POST",
        data: { productId },
        success: function (res) {
          if (res.success) {
            $("#cart-badge").text(res.cartCount);
          }
        }
      });
    });
  </script>
}